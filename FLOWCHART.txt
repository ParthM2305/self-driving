================================================================================
           MULTIMODAL SELF-DRIVING MODEL - EXECUTION FLOWCHART
================================================================================

                            ğŸ“¦ INSTALLATION PHASE
                                     â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  pip install -r requirements.txt  â”‚
                    â”‚  (2-5 minutes)                     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  python test_setup.py          â”‚
                    â”‚  (Validates environment)       â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â†“
                            
                            âœ… VALIDATION PHASE
                                     â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  .\run_smoke_test.bat          â”‚
                    â”‚  (5-10 minutes)                â”‚
                    â”‚  â€¢ Prepares 100 samples        â”‚
                    â”‚  â€¢ Trains 1 epoch              â”‚
                    â”‚  â€¢ Runs inference              â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Check outputs:                â”‚
                    â”‚  â€¢ data_smoke_test/            â”‚
                    â”‚  â€¢ runs/smoke_test/            â”‚
                    â”‚  â€¢ output_smoke_test/          â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â†“
                            
                        ğŸ”¨ DATA PREPARATION PHASE
                                     â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  python prepare_data.py        â”‚
                    â”‚  --data-dir ./CARLA_15GB/default  â”‚
                    â”‚  --out ./data                  â”‚
                    â”‚  --max-samples 10000           â”‚
                    â”‚  (10-30 minutes)               â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Verify:                       â”‚
                    â”‚  python prepare_data.py --verify  â”‚
                    â”‚  python dataset.py --sanity    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â†“
                            
                         ğŸš€ TRAINING PHASE
                                     â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  GPU: python train.py          â”‚
                    â”‚  --data-dir ./data             â”‚
                    â”‚  --epochs 25                   â”‚
                    â”‚  --batch-size 64               â”‚
                    â”‚  --device cuda                 â”‚
                    â”‚  (1-2 hours)                   â”‚
                    â”‚                                â”‚
                    â”‚  CPU: python train.py          â”‚
                    â”‚  --data-dir ./data             â”‚
                    â”‚  --epochs 10                   â”‚
                    â”‚  --batch-size 8                â”‚
                    â”‚  --device cpu                  â”‚
                    â”‚  (10-20 hours)                 â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Monitor:                      â”‚
                    â”‚  â€¢ Training log                â”‚
                    â”‚  â€¢ Training curves             â”‚
                    â”‚  â€¢ Checkpoints saved           â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â†“
                            
                        ğŸ“Š EVALUATION PHASE
                                     â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  python evaluate.py            â”‚
                    â”‚  --checkpoint runs/.../best.pthâ”‚
                    â”‚  --data-dir ./data             â”‚
                    â”‚  --split test                  â”‚
                    â”‚  (2-5 minutes)                 â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Check outputs:                â”‚
                    â”‚  â€¢ metrics.json                â”‚
                    â”‚  â€¢ predictions.csv             â”‚
                    â”‚  â€¢ scatter_plots.png           â”‚
                    â”‚  â€¢ error_distributions.png     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â†“
                            
                         ğŸ¨ DEMO PHASE
                                     â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  python inference_demo.py      â”‚
                    â”‚  --checkpoint runs/.../best.pthâ”‚
                    â”‚  --data-dir ./data             â”‚
                    â”‚  --n-samples 10                â”‚
                    â”‚  (1-2 minutes)                 â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  View outputs:                 â”‚
                    â”‚  â€¢ demo_outputs/sample_*.png   â”‚
                    â”‚  â€¢ Steering overlays           â”‚
                    â”‚  â€¢ LiDAR BEV views             â”‚
                    â”‚  â€¢ Control value tables        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â†“
                            
                         âœ… PROJECT COMPLETE!

================================================================================
                             ALTERNATIVE PATHS
================================================================================

Quick Interactive Mode:
    .\quick_run.bat â†’ Choose task (test/smoke/prepare/train/eval/demo)

Resume Training:
    python train.py --resume runs/.../checkpoint_epoch010.pth --epochs 50

Different LiDAR Modes:
    --lidar-mode pointnet    (Best accuracy, slower)
    --lidar-mode bev         (Fast, good accuracy)
    --lidar-mode sector_hist (Fastest, lower accuracy)

Custom Configuration:
    python train.py --config config_example.yaml

================================================================================
                             FILE STRUCTURE
================================================================================

Project Root/
â”œâ”€â”€ START_HERE.md          â† Read this first!
â”œâ”€â”€ README.md              â† Full documentation
â”œâ”€â”€ next_steps.txt         â† Step-by-step guide
â”œâ”€â”€ requirements.txt       â† Dependencies
â”‚
â”œâ”€â”€ Core Scripts:
â”‚   â”œâ”€â”€ prepare_data.py    â† Data preparation
â”‚   â”œâ”€â”€ dataset.py         â† Dataset classes
â”‚   â”œâ”€â”€ model.py           â† Model architectures
â”‚   â”œâ”€â”€ train.py           â† Training loop
â”‚   â”œâ”€â”€ evaluate.py        â† Evaluation
â”‚   â”œâ”€â”€ inference_demo.py  â† Visualization
â”‚   â””â”€â”€ utils.py           â† Helper functions
â”‚
â”œâ”€â”€ Helper Scripts:
â”‚   â”œâ”€â”€ test_setup.py      â† Pre-flight check
â”‚   â”œâ”€â”€ run_smoke_test.bat â† End-to-end test
â”‚   â””â”€â”€ quick_run.bat      â† Interactive launcher
â”‚
â””â”€â”€ Generated Outputs:
    â”œâ”€â”€ data/              â† Prepared dataset
    â”œâ”€â”€ runs/              â† Training runs
    â”œâ”€â”€ evaluation_results/â† Metrics & plots
    â””â”€â”€ demo_outputs/      â† Demo visualizations

================================================================================
                          SUCCESS METRICS
================================================================================

After Smoke Test:
    âœ“ 100 samples prepared
    âœ“ 1 epoch trained
    âœ“ 3 demo images created
    âœ“ No errors

After Full Training (25 epochs):
    âœ“ Validation loss < 0.05
    âœ“ Steering MAE < 0.08
    âœ“ Throttle MAE < 0.05
    âœ“ Brake MAE < 0.04
    âœ“ RÂ² > 0.70 for all controls

After Evaluation:
    âœ“ metrics.json created
    âœ“ 6 visualization plots
    âœ“ predictions.csv with all samples
    âœ“ RÂ² scores match expectations

================================================================================
                          TROUBLESHOOTING TREE
================================================================================

Problem: Installation fails
    â†’ pip install --upgrade pip
    â†’ pip install -r requirements.txt --force-reinstall

Problem: CUDA out of memory
    â†’ Reduce --batch-size (try 32, 16, 8)
    â†’ Reduce --num-points (try 2048, 1024)
    â†’ Use --lidar-mode bev

Problem: Training too slow
    â†’ Use GPU: --device cuda
    â†’ Reduce dataset: --max-samples 5000
    â†’ Use BEV mode: --lidar-mode bev
    â†’ Reduce epochs: --epochs 10

Problem: Poor accuracy
    â†’ Train longer: --epochs 50
    â†’ Use more data: remove --max-samples
    â†’ Increase model capacity: --num-points 8192
    â†’ Check data quality

Problem: Can't find checkpoint
    â†’ List: dir runs\*\checkpoints\*.pth
    â†’ Use most recent run folder
    â†’ Look for *_best.pth file

================================================================================
                        QUICK REFERENCE COMMANDS
================================================================================

# Test everything is working
python test_setup.py

# Smoke test (minimal validation)
.\run_smoke_test.bat

# Prepare data (quick)
python prepare_data.py --data-dir ./CARLA_15GB/default --out ./data --max-samples 5000

# Prepare data (full)
python prepare_data.py --data-dir ./CARLA_15GB/default --out ./data

# Train (GPU)
python train.py --data-dir ./data --epochs 25 --device cuda

# Train (CPU)
python train.py --data-dir ./data --epochs 10 --batch-size 8 --device cpu

# Evaluate
python evaluate.py --checkpoint <path> --data-dir ./data --split test

# Demo
python inference_demo.py --checkpoint <path> --data-dir ./data --n-samples 10

# Interactive mode
.\quick_run.bat

================================================================================
                         EXPECTED TIMELINE
================================================================================

First Time Setup:
    Installation:      2-5 minutes
    Test Setup:        30 seconds
    Smoke Test:        5-10 minutes
    Total:             ~15 minutes

Full Pipeline (GPU):
    Data Prep:         10-30 minutes
    Training:          1-2 hours
    Evaluation:        2-5 minutes
    Demo:              1-2 minutes
    Total:             ~2-3 hours

Full Pipeline (CPU):
    Data Prep:         10-30 minutes
    Training:          10-20 hours
    Evaluation:        5-10 minutes
    Demo:              2-5 minutes
    Total:             ~12-24 hours

================================================================================
                       ğŸ‰ YOU'RE READY TO START!
================================================================================

Begin with:
    1. pip install -r requirements.txt
    2. python test_setup.py
    3. .\run_smoke_test.bat

Then follow the flowchart above for the full pipeline.

For detailed help, see START_HERE.md and README.md

Good luck! ğŸš€
================================================================================
